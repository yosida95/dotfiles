function gopath() {
    if [ -z "$1" ]; then
        export GOPATH=`pwd`
    elif [ -d "$1" ]; then
        export GOPATH=$1
    else
        echo "\"${1}\" does not exist" >&2
        return 1
    fi

    if [ -n "$GOBIN" ]; then
        PATH="$(echo $PATH| sed -e "s@\([^:]\)${GOBIN}:@\\1@g")"
    fi
    export GOBIN=$GOPATH/bin
    export PATH=$GOBIN:$PATH
}
# vim: set filetype=zsh:
